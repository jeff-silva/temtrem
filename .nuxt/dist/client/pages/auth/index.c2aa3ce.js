(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{179:function(t,e,n){"use strict";n.r(e);n(21),n(22),n(178),n(13),n(23);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,p){return(c=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}var l=n(32);function f(t,e){return!e||"object"!==Object(l.a)(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,t);var e,n,l,f=v(d);function d(){var t;return r(this,d),(t=f.call(this)).id="",t.name="",t.email="",t.password="",t}return e=d,(n=[{key:"me",value:function(){return this.$axios.post("/api/auth/me")}},{key:"login",value:function(){var t=this;return new Promise((function(e,n){t.$axios.post("/api/auth/login",{email:t.email,password:t.password}).then((function(t){t.data.access_token&&(localStorage.setItem("access_token",t.data.access_token),e(t))})).catch((function(a,b,t,e){n(a,b,t,e)}))}))}},{key:"register",value:function(){}},{key:"password",value:function(){}}])&&o(e.prototype,n),l&&o(e,l),d}((function t(){var e=this;r(this,t),this.axios=!1,this.$loading=!1,this.$error={};var n=window.$nuxt.$axios.create();n.interceptors.request.use((function(t){return e.$loading='<i class="fa fa-fw fa-spin fa-spinner"></i>',t}),(function(t){return e.$loading=!1,Promise.reject(t)})),n.interceptors.response.use((function(t){return e.$loading=!1,t}),(function(t){return e.$loading=!1,Promise.reject(t)})),this.$axios=n})),m={data:function(){return{user:new h}},methods:{loginThen:function(t){location.reload()},loginCatch:function(t){console.log(t)}},mounted:function(){this.user.me().then((function(t){console.log(t)}))}},w=n(20),component=Object(w.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticStyle:{"max-width":"400px",margin:"0 auto"},attrs:{action:""},on:{submit:function(e){e.preventDefault(),t.user.login().then(t.loginThen).catch(t.loginCatch)}}},[n("label",{staticClass:"row"},[n("div",{staticClass:"col-3 p-2"},[t._v("Login")]),t._v(" "),n("div",{staticClass:"col-9"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),t._v(" "),n("label",{staticClass:"row"},[n("div",{staticClass:"col-3 p-2"},[t._v("Senha")]),t._v(" "),n("div",{staticClass:"col-9"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])]),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\r\n                Login\r\n            ")])])}],!1,null,null,null);e.default=component.exports}}]);